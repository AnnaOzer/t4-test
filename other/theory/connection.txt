Для соединения с БД
есть спец класс T4\Dbal\Connection

(Data Base Abstract Layer)
слой абстракции баз данных
Dbal -  набор специальных классов
позволяющих абстрагироваться от типа базы данных
и в простых случаях не дадумываться
с какой конкретно базой вы работаете

Сейчас посностью реализована 2 драйвера
MySql и Postgres
Можной прийти в проект как разработчику и написать драйвер как SQLite
и тестами покрыть


T4 позволяет работать сразу с несколькими базами данных
одно из соединений должно называться
default
это нужно для системных нужд
например миграция


Что такое $this->app->db
это объект класса Connections
сначала он представляет из себя массив конфигураций соединений
(объект Connections хранит в себе конфиги)


как только мы обратились хотя бы раз с какому-либо соединению,
как вместо конфига будет само соединение
т.е. не Config а Connection
т.е. связь по требованию

Методы класса Collection
prepare готовит запрос к выполнению, возвращает объект класса стейтмент
надо если работать с подготовленными запросами
execute возвращает true/false, запросы кроме select
query для select
возвращает Statement c ответом внутри него
lastInsertId
beginTransaction
rollbackTransaction
commitTransaction

класс \T4\Dbal\Statement наследуется от PDOStatement
есть методы
execute  с параметрами
rowCount()
fetch получить очередную запись, для организации циклов
fetchAll
fetchScalar добавлено к обычному PDO

пример на получение данных из БД
таблица persons, __id serial, firstName varchar 50, lastName varchar 50, age int
Иван Иванов 42
Екатерина Сидорова 18


ФНС имя и фамилию человека обрезает до 50 символов
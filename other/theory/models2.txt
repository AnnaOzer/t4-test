Модели - это объектноориентированное отображение базы данных

задача оэрэм в т4 простая
в виде класса отобразить таблицу
в виде объекта отобразить запись

существует возможность для работы с разными БД

QUERY BUILDER и драйвера БД

квери билдер это простой класс для построения запросов к БД
T4\Dbal\QueryBuilder
умеет запоминать в себе разные части эскуэль запроса
у него много цепочечных методов
каждый из который запоминает в чебе чать эскуэль запроса

квери билдер не выполняет запрос,
его цель собрать запрос из частей воедино
методом getQuery('mysql')
 в скобках указать для какой конкретно базы запрос
 также работает для pgsql

 -----
 обращаясь к модели,
 мы не знаем какое у неё соединение
 но говорим "модель дай нам своё соединение"

везде, где допускается эскуэль запрос,
допускается и объект кверибилдер

через
1)getDbConnection
или
2)findAllByQuery
данные будут получены и преобразованы в объекты этой модели

т.е. квери билдер это первый слой абстракции от баз данных
который позволяет вам писать эскуэль запросы ни что иное
это построитель эскуэль запросов
немного независимый от конкретной базы даннных
который умеет сам себя превратить в запрос для этой базы данных максимально адаптированный

как квери билдер это делает?

использует драйвер базы данных
самый нижний уровень абстракции


драйвер это класс
который реализует много много разных методов
это толстый большой класс
собирает в себе все методы, нужные для общения с конкретной БД

драйвер бд так же осуществляет перевод абстрактных типов в реальные типы

главная задача драйвера БД  - дать одинаковый интерфейс для типовых задач для БД


------------------------

